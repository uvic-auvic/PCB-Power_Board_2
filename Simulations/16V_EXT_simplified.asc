Version 4
SHEET 1 2004 680
WIRE 368 -144 336 -144
WIRE 480 -144 448 -144
WIRE 480 -48 480 -144
WIRE 432 16 384 16
WIRE 480 64 480 32
WIRE 640 64 480 64
WIRE 848 64 720 64
WIRE 480 96 480 64
WIRE -160 160 -160 96
WIRE 432 160 416 160
WIRE -288 176 -288 96
WIRE 480 224 480 176
WIRE -288 304 -288 256
WIRE -160 304 -160 240
FLAG 848 64 16V_EXT
IOPIN 848 64 Out
FLAG 336 -144 0
FLAG -288 304 0
FLAG -288 96 System_PWR
IOPIN -288 96 In
FLAG 432 -32 16V_Enable
IOPIN 432 -32 In
FLAG 432 112 16V_Enable
IOPIN 432 112 In
FLAG 384 16 0
FLAG 416 160 0
FLAG 480 224 0
FLAG -160 96 16V_Enable
IOPIN -160 96 In
FLAG -160 304 0
SYMBOL bv 464 -144 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B1
SYMATTR Value V={if(V(System_PWR)>16, 16+0.006*sin(2*pi*400E3*time), V(System_PWR))}
SYMBOL bi -288 176 R0
WINDOW 3 527 205 Right 2
SYMATTR Value I={if(V(System_PWR) > 0, V(16V_EXT)*(-1)*I(B1)/V(System_PWR), 0)}
SYMATTR InstName B2
SYMBOL sw 480 48 M180
SYMATTR InstName S1
SYMATTR Value SWH
SYMBOL sw 480 192 M180
SYMATTR InstName S2
SYMATTR Value SWL
SYMBOL res 624 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 0.002
SYMBOL res -176 144 R0
SYMATTR InstName R5
SYMATTR Value 10k
TEXT 296 304 Left 2 !.model SWH SW(Ron=0.0001 Roff=10Meg Vt=1.5 Vh=-.4)
TEXT 296 328 Left 2 !.model SWL SW(Ron=10Meg Roff=0.0001 Vt=1.5 Vh=-.4)
